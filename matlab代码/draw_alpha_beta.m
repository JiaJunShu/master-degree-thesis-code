 % 设置文件名
filename = 'output.txt'; % 请根据实际文件名修改

% 方法1: 使用 readtable 读取文件
dataTable = readtable(filename);

% 提取前七列数据
firstColumn = dataTable{:, 1}; % 第一列
secondColumn = dataTable{:, 2}; % 第二列
thirdColumn = dataTable{:, 3}; % 第三列
seventhColumn = dataTable{:, 7}; % 第七列

% 检查并转换所有列为单元格的列
columnsToCheck = {firstColumn, secondColumn, thirdColumn, seventhColumn};
for i = 1:length(columnsToCheck)
    if iscell(columnsToCheck{i})
        columnsToCheck{i} = str2double(columnsToCheck{i});
    else
        columnsToCheck{i} = double(columnsToCheck{i});
    end
end

% 分配已转换的列
[firstColumn, secondColumn, thirdColumn, seventhColumn] = deal(columnsToCheck{:});

% 删除任何 NaN 值，确保数据是干净的
validIndices = ~(isnan(firstColumn) | isnan(secondColumn) | isnan(thirdColumn) | isnan(seventhColumn));
firstColumn = firstColumn(validIndices);
secondColumn = secondColumn(validIndices);
thirdColumn = thirdColumn(validIndices);
seventhColumn = seventhColumn(validIndices);

% 绘制第一列数据
figure; % 创建一个新图形窗口
set(gcf, 'Color', 'w'); % 设置整个图形窗口背景为白色
plot(seventhColumn, firstColumn, 'r-', 'DisplayName', '第一列数据'); % 绘制第一列数据，红色实线
xlabel('时间/t'); % 为 x 轴添加标签
ylabel('翼筒滚转角/°'); % 为 y 轴添加标签
%title('第七列为横坐标 第一列数据图'); % 添加标题
%grid on; % 添加网格
legend('show'); % 显示图例

% 绘制第二列数据
figure; % 创建另一个新图形窗口
set(gcf, 'Color', 'w'); % 设置整个图形窗口背景为白色
plot(seventhColumn, secondColumn, 'b-', 'DisplayName', '第二列数据'); % 绘制第二列数据，蓝色实线
xlabel('第七列数据'); % 为 x 轴添加标签
ylabel('值'); % 为 y 轴添加标签
title('第七列为横坐标 第二列数据图'); % 添加标题
grid on; % 添加网格
legend('show'); % 显示图例

% 绘制第三列数据
figure; % 创建另一个新图形窗口
set(gcf, 'Color', 'w'); % 设置整个图形窗口背景为白色
plot(seventhColumn, thirdColumn, 'g-', 'DisplayName', '第三列数据'); % 绘制第三列数据，绿色实线
xlabel('第七列数据'); % 为 x 轴添加标签
ylabel('值'); % 为 y 轴添加标签
title('第七列为横坐标 第三列数据图'); % 添加标题
grid on; % 添加网格
legend('show'); % 显示图例
